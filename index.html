<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ShawnSweeps</title>
  <style>
    /* === Reset & Scroll Fix === */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body, html {
      width: 100%;
      min-height: 100vh;
      overflow-x: hidden;
      overflow-y: auto;
      font-family: 'Arial', sans-serif;
      color: white;
      position: relative;
    }

    /* === Video Background === */
    #bg-video {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
      z-index: -2;
    }
    .video-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.6);
      z-index: -1;
    }

    /* === Header & Logo === */
    header {
      margin-top: 30px;
      margin-bottom: 30px;
      text-align: center;
      z-index: 10;
      position: relative;
    }
    header img {
      width: 220px;
      filter: drop-shadow(0 0 10px rgba(250, 10, 10, 0.6));
    }

    /* === Deposit Buttons Container === */
    .deposit-buttons {
      display: flex;
      flex-direction: column;
      gap: 15px;
      width: 90%;
      max-width: 400px;
      margin: 0 auto 40px auto;
      z-index: 10;
      position: relative;
    }

    /* === Wert Widget Button === */
    .wert-button {
      background: linear-gradient(45deg, #ff0000, #000000);
      color: white;
      border: none;
      padding: 16px 32px;
      font-size: 17px;
      font-weight: bold;
      border-radius: 12px;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 4px 15px rgba(79, 70, 229, 0.3);
      text-transform: uppercase;
      letter-spacing: 1px;
      width: 100%;
      position: relative;
    }

    .wert-button:hover:not(:disabled) {
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(139, 0, 0, 0.549);
      background: linear-gradient(45deg, #ff000086, #be0606c0);
    }

    .wert-button:active {
      transform: translateY(0);
    }

    .wert-button:disabled {
      background: #666;
      cursor: not-allowed;
      transform: none;
      box-shadow: none;
      opacity: 0.7;
    }

    /* === Game Grid === */
    #games {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 25px;
      max-width: 1200px;
      margin: 0 auto 60px;
      padding: 0 15px;
      position: relative;
      z-index: 10;
    }
    @media (max-width: 1024px) {
      #games {
        grid-template-columns: repeat(3, 1fr);
      }
    }
    @media (max-width: 500px) {
      #games {
        grid-template-columns: repeat(2, 1fr);
      }
    }

    /* === Game Card (Round) === */
    .game-card {
      position: relative;
      width: 100%;
      padding-bottom: 100%;
      border-radius: 50%;
      overflow: hidden;
      box-shadow: 0 6px 15px rgba(0,0,0,0.5);
      transition: all 0.3s;
    }
    .game-card::before {
      content: '';
      position: absolute;
      inset: -6px;
      background: linear-gradient(45deg, #fa0a0a, #ff8c00);
      border-radius: 50%;
      z-index: -1;
    }
    .game-card img {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
      border-radius: 50%;
    }
    .game-card:hover {
      transform: scale(1.1);
      box-shadow: 0 0 25px rgba(250, 10, 10, 0.6);
    }

    /* === Status Messages === */
    .status-message {
      margin: 10px auto;
      padding: 12px 20px;
      border-radius: 8px;
      max-width: 500px;
      text-align: center;
      font-size: 14px;
      line-height: 1.4;
      position: relative;
      z-index: 100;
    }

    .error {
      color: #ff6b6b;
      background: rgba(255, 107, 107, 0.15);
      border: 1px solid rgba(255, 107, 107, 0.3);
    }

    .success {
      color: #51cf66;
      background: rgba(81, 207, 102, 0.15);
      border: 1px solid rgba(81, 207, 102, 0.3);
    }

    .loading {
      color: #74c0fc;
      background: rgba(116, 192, 252, 0.15);
      border: 1px solid rgba(116, 192, 252, 0.3);
    }

    .hidden {
      display: none;
    }

    /* === Loading Spinner === */
    .spinner {
      display: inline-block;
      width: 16px;
      height: 16px;
      border: 2px solid rgba(74, 192, 252, 0.3);
      border-top: 2px solid #74c0fc;
      border-radius: 50%;
      animation: spin 1s linear infinite;
      margin-right: 8px;
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
  </style>
</head>
<body>

  <!-- Video Background -->
  <video id="bg-video"
         src="https://shawn-sweepstakes.carrd.co/assets/videos/bg.mp4?v=0c91e9dc"
         poster="https://shawn-sweepstakes.carrd.co/assets/videos/bg.mp4.jpg?v=0c91e9dc"
         autoplay
         preload="auto"
         loop
         playsinline
         disablepictureinpicture
         disableremoteplayback
         webkit-playsinline
         muted>
  </video>
  <div class="video-overlay"></div>

  <!-- Header -->
  <header>
    <img src="https://shawn-sweepstakes.carrd.co/assets/images/image03.png?v=0c91e9dc" alt="ShawnSweeps Logo">
  </header>

  <!-- Status Messages -->
  <div id="errorMessage" class="status-message error hidden"></div>
  <div id="successMessage" class="status-message success hidden"></div>
  <div id="loadingMessage" class="status-message loading hidden">
    <span class="spinner"></span>Creating payment session...
  </div>

  <!-- Deposit Buttons -->
  <div class="deposit-buttons">
    <button class="wert-button" id="wertButton">
      Buy Bitcoin - Deposit Funds
    </button>
  </div>

  <!-- Game Grid -->
  <section id="games">
    <!-- Games will be injected here -->
  </section>

  <!-- Wert SDK -->
  <script src="https://unpkg.com/@wert-io/widget-initializer@latest/dist/widget-initializer.js" 
          onload="console.log('‚úÖ Wert SDK loaded successfully')" 
          onerror="console.error('‚ùå Failed to load Wert SDK')"></script>

  <script>
    // === Configuration ===
    const PARTNER_ID = "01K1T8VJJ8TY67M49FDXY865GF";
    const IS_SANDBOX = false; // Set to true for testing
    const DEFAULT_WALLET_ADDRESS = "39zC2iwMf6qzmVVEcBdfXG6WpVn84Mwxzv";

    // === UI Elements ===
    const wertButton = document.getElementById('wertButton');
    const errorDiv = document.getElementById('errorMessage');
    const successDiv = document.getElementById('successMessage');
    const loadingDiv = document.getElementById('loadingMessage');

    // === Status Message Functions ===
    function showError(message) {
      console.error('‚ùå Error:', message);
      errorDiv.textContent = message;
      errorDiv.classList.remove('hidden');
      hideSuccess();
      hideLoading();
    }

    function showSuccess(message) {
      console.log('‚úÖ Success:', message);
      successDiv.innerHTML = message; // Allow HTML for formatted messages
      successDiv.classList.remove('hidden');
      hideError();
      hideLoading();
    }

    function showLoading(message = 'Creating payment session...') {
      const spinner = '<span class="spinner"></span>';
      loadingDiv.innerHTML = spinner + message;
      loadingDiv.classList.remove('hidden');
      wertButton.disabled = true;
      hideError();
      hideSuccess();
    }

    function hideError() {
      errorDiv.classList.add('hidden');
    }

    function hideSuccess() {
      successDiv.classList.add('hidden');
    }

    function hideLoading() {
      loadingDiv.classList.add('hidden');
      wertButton.disabled = false;
    }

    // === Create Wert Session ===
    async function createWertSession(config) {
      const sessionData = {
        flow_type: "simple_full_restrict",
        wallet_address: config.walletAddress,
        currency: "USD",
        commodity: "BTC",
        network: "bitcoin",
        currency_amount: config.currencyAmount || 100
      };

      console.log('üîÑ Creating Wert session with data:', sessionData);

      try {
        const response = await fetch('/api/create-wert-session', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify(sessionData)
        });

        console.log('üì° API Response status:', response.status);

        if (!response.ok) {
          const errorData = await response.json().catch(() => ({ message: 'Unknown error' }));
          throw new Error(errorData.message || `API Error: ${response.status}`);
        }

        const result = await response.json();
        console.log('‚úÖ Session created successfully');
        return result;

      } catch (error) {
        console.error('‚ùå Session creation failed:', error);
        
        // Enhanced error handling
        if (error.message.includes('fetch')) {
          throw new Error('Network error. Please check your connection and try again.');
        } else if (error.message.includes('API Error: 500')) {
          throw new Error('Server configuration error. Please contact support.');
        } else {
          throw error;
        }
      }
    }

    // === Open Wert Widget ===
    async function openWertWidget() {
      try {
        console.log('üöÄ Starting Wert widget initialization...');
        
        // Check if WertWidget is available
        if (typeof WertWidget === 'undefined') {
          console.error('‚ùå WertWidget not found');
          throw new Error('Payment system not loaded. Please refresh the page and try again.');
        }

        console.log('‚úÖ WertWidget found, creating session...');
        showLoading('Creating secure payment session...');
        
        // Create session via your API
        const session = await createWertSession({
          walletAddress: DEFAULT_WALLET_ADDRESS,
          currencyAmount: 100
        });

        if (!session.session_id) {
          throw new Error('Invalid session response from server');
        }

        console.log('‚úÖ Session created, initializing widget...');
        showLoading('Initializing payment widget...');

        // Widget configuration
        const options = {
          partner_id: PARTNER_ID,
          session_id: session.session_id,
          click_id: `shawnsweeps_${Date.now()}`,
          
          // Only add origin for sandbox
          ...(IS_SANDBOX && { origin: 'https://sandbox.wert.io' }),
          
          // UI customization
          theme: 'dark',
          lang: 'en',
          brand_color: '#ff0000',
          
          // Event listeners
          listeners: {
            loaded: () => {
              console.log('‚úÖ Wert widget loaded successfully');
              hideLoading();
              showSuccess('Payment widget opened successfully!');
            },
            
            error: (error) => {
              console.error('‚ùå Wert widget error:', error);
              hideLoading();
              const errorMsg = error.message || error.toString() || 'Widget error occurred';
              showError(`Payment widget error: ${errorMsg}`);
            },
            
            close: () => {
              console.log('üîí Wert widget closed by user');
              hideLoading();
              showSuccess('Payment widget closed.<br>Check your wallet for any completed transactions.');
            },
            
            position: (data) => {
              console.log('üìç Widget position:', data);
            },
            
            payment_status: (data) => {
              console.log('üí≥ Payment status update:', data);
              
              if (data.status === 'success') {
                showSuccess('üéâ Payment completed successfully!<br>Bitcoin should arrive in your wallet shortly.');
              } else if (data.status === 'failed') {
                showError('‚ùå Payment failed: ' + (data.message || 'Please try again or contact support.'));
              } else if (data.status === 'pending') {
                showLoading('Processing payment...');
              }
            }
          }
        };

        console.log('üîß Initializing widget with partner ID:', PARTNER_ID);
        
        // Create and open the widget
        const wertWidget = new WertWidget(options);
        
        console.log('üö™ Opening payment widget...');
        wertWidget.open();
        
        console.log('‚úÖ Widget initialization complete');
        return wertWidget;

      } catch (error) {
        console.error('‚ùå Widget initialization failed:', error);
        hideLoading();
        
        // Specific error handling with user-friendly messages
        let userMessage = error.message;
        
        if (error.message.includes('session')) {
          userMessage = 'Failed to create payment session. Please try again or contact support.';
        } else if (error.message.includes('SDK') || error.message.includes('not loaded')) {
          userMessage = 'Payment system failed to load. Please refresh the page and try again.';
        } else if (error.message.includes('Network')) {
          userMessage = 'Connection error. Please check your internet and try again.';
        }
        
        // Offer fallback option
        const useSimpleLink = confirm(
          `${userMessage}\n\nWould you like to open a direct payment link instead?\n\n(You'll need to manually enter your Bitcoin address)`
        );
        
        if (useSimpleLink) {
          openWertSimpleLink();
        } else {
          showError(`Failed to load payment widget: ${userMessage}`);
        }
        
        return null;
      }
    }

    // === Simple Fallback Link ===
    function openWertSimpleLink() {
      try {
        const baseUrl = IS_SANDBOX ? 'https://sandbox.wert.io' : 'https://wert.io';
        const params = new URLSearchParams({
          partner_id: PARTNER_ID,
          click_id: `shawnsweeps_${Date.now()}`,
        });
        
        const simpleUrl = `${baseUrl}/?${params.toString()}`;
        console.log('üîó Opening simple payment link:', simpleUrl);
        
        const newTab = window.open(simpleUrl, '_blank', 'width=800,height=700');
        
        if (!newTab) {
          throw new Error('Popup blocked! Please allow popups for this site.');
        }
        
        // Copy wallet address to clipboard
        if (navigator.clipboard && navigator.clipboard.writeText) {
          navigator.clipboard.writeText(DEFAULT_WALLET_ADDRESS).then(() => {
            showSuccess(`Payment page opened in new tab.<br><br><strong>Your Bitcoin address (copied to clipboard):</strong><br>${DEFAULT_WALLET_ADDRESS}<br><br>Please paste this address when prompted in the payment form.`);
          }).catch(() => {
            showSuccess(`Payment page opened in new tab.<br><br><strong>Your Bitcoin address:</strong><br>${DEFAULT_WALLET_ADDRESS}<br><br>Please copy and paste this address when prompted in the payment form.`);
          });
        } else {
          showSuccess(`Payment page opened in new tab.<br><br><strong>Your Bitcoin address:</strong><br>${DEFAULT_WALLET_ADDRESS}<br><br>Please copy and paste this address when prompted in the payment form.`);
        }
        
        return newTab;
        
      } catch (error) {
        console.error('‚ùå Simple link failed:', error);
        showError('Failed to open payment page: ' + error.message);
        return null;
      }
    }

    // === Handle Deposit Button Click ===
    async function handleWertDeposit() {
      console.log('üéØ Deposit button clicked');
      
      hideError();
      hideSuccess();
      
      try {
        await openWertWidget();
      } catch (error) {
        console.error('‚ùå Deposit flow error:', error);
        showError('Payment initialization failed: ' + (error.message || 'Please try again'));
      }
    }

    // === Event Listeners ===
    wertButton.addEventListener('click', handleWertDeposit);

    // === Games Data ===
    const games = [
      {
        id: "megaspinsweeps",
        name: "Mega Spin Sweeps",
        imageUrl: "https://shawn-sweepstakes.carrd.co/assets/images/gallery01/85307f95.jpg?v=0c91e9dc",
        gameUrl: "http://www.megaspinsweeps.com/index.html"
      },
      {
        id: "vblink777",
        name: "VBLink777",
        imageUrl: "https://shawn-sweepstakes.carrd.co/assets/images/gallery01/753a32c3.jpg?v=0c91e9dc",
        gameUrl: "https://www.vblink777.club/"
      },
      {
        id: "goldentreasure",
        name: "Golden Treasure",
        imageUrl: "https://shawn-sweepstakes.carrd.co/assets/images/gallery01/7c9b03e5.jpg?v=0c91e9dc",
        gameUrl: "https://www.goldentreasure.mobi/"
      },
      {
        id: "orionstars",
        name: "Orion Stars",
        imageUrl: "https://shawn-sweepstakes.carrd.co/assets/images/gallery01/417aedb1.png?v=0c91e9dc",
        gameUrl: "http://start.orionstars.vip:8580/index.html"
      },
      {
        id: "firekirin",
        name: "Fire Kirin",
        imageUrl: "https://shawn-sweepstakes.carrd.co/assets/images/gallery01/189aadee.jpg?v=0c91e9dc",
        gameUrl: "http://start.firekirin.xyz:8580/index.html"
      },
      {
        id: "rivermonster",
        name: "River Monster",
        imageUrl: "https://shawn-sweepstakes.carrd.co/assets/images/gallery01/253c9f08.jpg?v=0c91e9dc",
        gameUrl: "https://rm777.net/"
      },
      {
        id: "riversweeps",
        name: "Riversweeps",
        imageUrl: "https://shawn-sweepstakes.carrd.co/assets/images/gallery01/597c1510.jpg?v=0c91e9dc",
        gameUrl: "https://bet777.eu/"
      },
      {
        id: "fortune2go",
        name: "Fortune 2 Go",
        imageUrl: "https://shawn-sweepstakes.carrd.co/assets/images/gallery01/d1498abc.jpg?v=0c91e9dc",
        gameUrl: "https://www.fortune2go20.com/mobile/Login/index.html"
      },
      {
        id: "goldendragon",
        name: "Golden Dragon",
        imageUrl: "https://shawn-sweepstakes.carrd.co/assets/images/gallery01/de5f04bc.jpg?v=0c91e9dc",
        gameUrl: "https://playgd.mobi/SSLobby/3733.0/web-mobile/index.html"
      },
      {
        id: "bludragon",
        name: "Blu Dragon",
        imageUrl: "https://shawn-sweepstakes.carrd.co/assets/images/gallery01/faeeb77b.png?v=0c91e9dc",
        gameUrl: "http://app.bluedragon777.com/"
      },
      {
        id: "vegasx",
        name: "VEGAS X",
        imageUrl: "https://shawn-sweepstakes.carrd.co/assets/images/gallery01/1e472144.jpg?v=0c91e9dc",
        gameUrl: "https://vegas-x.org/"
      },
      {
        id: "ultrapanda",
        name: "ULTRAPANDA",
        imageUrl: "https://shawn-sweepstakes.carrd.co/assets/images/gallery01/ad5dd9c6.jpg?v=0c91e9dc",
        gameUrl: "https://www.ultrapanda.mobi/"
      },
      {
        id: "milkyways",
        name: "MILKY WAYS",
        imageUrl: "https://shawn-sweepstakes.carrd.co/assets/images/gallery01/2bc0a981.jpg?v=0c91e9dc",
        gameUrl: "https://milkywayapp.xyz/"
      },
      {
        id: "luckypenny",
        name: "LUCKY PENNY",
        imageUrl: "https://shawn-sweepstakes.carrd.co/assets/images/gallery01/9b984f9c.jpg?v=0c91e9dc",
        gameUrl: "http://luckypenny.xyz:8580/index.html"
      },
      {
        id: "gametime",
        name: "Gametime",
        imageUrl: "https://shawn-sweepstakes.carrd.co/assets/images/gallery01/85307f95.jpg?v=0c91e9dc",
        gameUrl: "http://game-time.vip:8580/index.html"
      },
      {
        id: "goldstar",
        name: "Gold Star",
        imageUrl: "https://shawn-sweepstakes.carrd.co/assets/images/gallery01/74eb627d.jpg?v=0c91e9dc",
        gameUrl: "https://goldstar.games/"
      },
      {
        id: "100plus",
        name: "100 Plus",
        imageUrl: "https://shawn-sweepstakes.carrd.co/assets/images/gallery01/e00a2881.jpg?v=0c91e9dc",
        gameUrl: "https://99.100plus.me/lobby/1684487595/index.html?agreement=1&/player/release/"
      },
      {
        id: "gamevault",
        name: "Gamevault",
        imageUrl: "https://shawn-sweepstakes.carrd.co/assets/images/gallery01/050dac4a.jpg?v=0c91e9dc",
        gameUrl: "https://download.gamevault999.com/"
      },
      {
        id: "galaxyworld",
        name: "Galaxy World",
        imageUrl: "https://shawn-sweepstakes.carrd.co/assets/images/gallery01/1f44c7e1.png?v=0c91e9dc",
        gameUrl: "https://m.galaxyworld999.com/"
      },
      {
        id: "magiccity",
        name: "Magic City",
        imageUrl: "https://shawn-sweepstakes.carrd.co/assets/images/gallery01/71d5fc8f.jpg?v=0c91e9dc",
        gameUrl: "https://www.magiccity777.com/SSLobby/3657.0/web-mobile/index.html"
      },
      {
        id: "highstake",
        name: "High Stake Sweeps",
        imageUrl: "https://shawn-sweepstakes.carrd.co/assets/images/gallery01/e1d3a0f7.jpg?v=0c91e9dc",
        gameUrl: "https://dl.highstakesweeps.com/"
      },
      {
        id: "sincity",
        name: "Sin City",
        imageUrl: "https://shawn-sweepstakes.carrd.co/assets/images/gallery01/98333b44.jpg?v=0c91e9dc",
        gameUrl: "https://sincitysweeps.net/"
      },
      {
        id: "vegassweeps",
        name: "Vegas Sweeps",
        imageUrl: "https://shawn-sweepstakes.carrd.co/assets/images/gallery01/bd38d36f.jpg?v=0c91e9dc",
        gameUrl: "https://m.lasvegassweeps.com/"
      },
      {
        id: "ignite",
        name: "IGNITE",
        imageUrl: "https://shawn-sweepstakes.carrd.co/assets/images/gallery01/3603f518.png?v=0c91e9dc",
        gameUrl: "https://casinoignite.vip/"
      },
      {
        id: "cashfrenzy",
        name: "Cashapp Frenzy",
        imageUrl: "https://shawn-sweepstakes.carrd.co/assets/images/gallery01/a67374ce.jpg?v=0c91e9dc",
        gameUrl: "https://www.cashfrenzy777.com/"
      },
      {
        id: "acebook",
        name: "ACEBOOK",
        imageUrl: "https://shawn-sweepstakes.carrd.co/assets/images/gallery01/09e14951.jpg?v=0c91e9dc",
        gameUrl: "https://www.playacebook.mobi/"
      },
      {
        id: "bluedragon2",
        name: "Blue Dragon 2",
        imageUrl: "https://shawn-sweepstakes.carrd.co/assets/images/gallery01/637eb5ee.png?v=0c91e9dc",
        gameUrl: "http://app.getbluedragon.com/"
      },
      {
        id: "juwa777",
        name: "Juwa777",
        imageUrl: "https://shawn-sweepstakes.carrd.co/assets/images/gallery01/bebb5d9e.jpg?v=0c91e9dc",
        gameUrl: "https://dl.juwa777.com/"
      },
      {
        id: "pandamaster",
        name: "Panda Master",
        imageUrl: "https://shawn-sweepstakes.carrd.co/assets/images/gallery01/0b6843e0.jpg?v=0c91e9dc",
        gameUrl: "https://pandamaster.vip:8888/index.html"
      },
      {
        id: "fishglory",
        name: "Fish Glory",
        imageUrl: "https://shawn-sweepstakes.carrd.co/assets/images/gallery01/346fd5a6.jpg?v=0c91e9dc",
        gameUrl: "https://www.fishglory.games/"
      },
      {
        id: "vegasroll",
        name: "Vegas Roll",
        imageUrl: "https://shawn-sweepstakes.carrd.co/assets/images/gallery01/7867671f.jpg?v=0c91e9dc",
        gameUrl: "http://www.vegas-roll.com/m"
      },
      {
        id: "mrallinone",
        name: "Mr All In One",
        imageUrl: "https://shawn-sweepstakes.carrd.co/assets/images/gallery01/d6f9845f.jpg?v=0c91e9dc",
        gameUrl: "https://www.mrallinone777.com/m"
      },
      {
        id: "orionpower",
        name: "ORION Power",
        imageUrl: "https://shawn-sweepstakes.carrd.co/assets/images/gallery01/6c415d9a.jpg?v=0c91e9dc",
        gameUrl: "http://product.orionpower.games/v1001/"
      },
      {
        id: "quakegame",
        name: "Quake Game",
        imageUrl: "https://shawn-sweepstakes.carrd.co/assets/images/gallery01/0c63b506.jpg?v=0c91e9dc",
        gameUrl: "https://www.quakegame.net/"
      },
      {
        id: "vegasluck777",
        name: "Vegas Luck 777",
        imageUrl: "https://shawn-sweepstakes.carrd.co/assets/images/gallery01/961ffa7e.jpg?v=0c91e9dc",
        gameUrl: "https://start.vegasluck777.com/"
      },
      {
        id: "noble777",
        name: "Noble 777",
        imageUrl: "https://shawn-sweepstakes.carrd.co/assets/images/gallery01/21cf31e9.jpg?v=0c91e9dc",
        gameUrl: "https://www.noble777.com/m"
      },
      {
        id: "cashmachine777",
        name: "Cash Machine 777",
        imageUrl: "https://shawn-sweepstakes.carrd.co/assets/images/gallery01/d68e85e8.jpg?v=0c91e9dc",
        gameUrl: "https://www.cashmachine777.com/m"
      },
      {
        id: "gameroom777",
        name: "Game Room 777",
        imageUrl: "https://shawn-sweepstakes.carrd.co/assets/images/gallery01/92bca02e.jpg?v=0c91e9dc",
        gameUrl: "https://www.gameroom777.com/m"
      },
      {
        id: "luckystars",
        name: "Lucky Stars",
        imageUrl: "https://shawn-sweepstakes.carrd.co/assets/images/gallery01/990e95bf.jpg?v=0c91e9dc",
        gameUrl: "http://www.luckystars.games/m"
      },
      {
        id: "slots88888",
        name: "Slots 88888",
        imageUrl: "https://shawn-sweepstakes.carrd.co/assets/images/gallery01/035f8253.jpg?v=0c91e9dc",
        gameUrl: "https://www.slots88888.com/m"
      },
      {
        id: "winstar99999",
        name: "Win Star 99999",
        imageUrl: "https://shawn-sweepstakes.carrd.co/assets/images/gallery01/b48ed188.jpg?v=0c91e9dc",
        gameUrl: "http://server.winstar99999.com:8009/m"
      },
      {
        id: "mafia77777",
        name: "Mafia 77777",
        imageUrl: "https://shawn-sweepstakes.carrd.co/assets/images/gallery01/a3830c1f.jpg?v=0c91e9dc",
        gameUrl: "http://product.mafia77777.com/v1003/"
      },
      {
        id: "yolo777",
        name: "YOLO 777",
        imageUrl: "https://shawn-sweepstakes.carrd.co/assets/images/gallery01/e1b31467.jpg?v=0c91e9dc",
        gameUrl: "https://yolo777.game/"
      },
      {
        id: "fpc",
        name: "FPC Mobile",
        imageUrl: "https://shawn-sweepstakes.carrd.co/assets/images/gallery01/2eb63b4e.png?v=0c91e9dc",
        gameUrl: "https://fpc-mob.com/AD/index.html"
      },
      {
        id: "winnersclub777",
        name: "Winners Club 777",
        imageUrl: "https://shawn-sweepstakes.carrd.co/assets/images/gallery01/a9e0fca0.jpg?v=0c91e9dc",
        gameUrl: "https://www.winnersclub777.com/"
      },
      {
        id: "legendfire",
        name: "Legend Fire",
        imageUrl: "https://shawn-sweepstakes.carrd.co/assets/images/gallery01/8b67f370.jpg?v=0c91e9dc",
        gameUrl: "https://www.legendfire.xyz/"
      },
      {
        id: "firelinkplus",
        name: "Fire Link Plus",
        imageUrl: "https://shawn-sweepstakes.carrd.co/assets/images/gallery01/f592d30c.jpg?v=0c91e9dc",
        gameUrl: "https://firelinkplus.com/"
      },
      {
        id: "blackmamba",
        name: "Black Mamba",
        imageUrl: "https://shawn-sweepstakes.carrd.co/assets/images/gallery01/b99b4435.jpg?v=0c91e9dc",
        gameUrl: "https://blackmamba.mobi/"
      },
      {
        id: "playorca",
        name: "Play Orca",
        imageUrl: "https://shawn-sweepstakes.carrd.co/assets/images/gallery01/a281d47e.jpg?v=0c91e9dc",
        gameUrl: "https://playorca.mobi/"
      },
      {
        id: "playbdd",
        name: "Play BDD",
        imageUrl: "https://shawn-sweepstakes.carrd.co/assets/images/gallery01/fcf9c9dd.jpg?v=0c91e9dc",
        gameUrl: "https://www.playbdd.com/"
      },
      {
        id: "kraken",
        name: "The Kraken",
        imageUrl: "https://shawn-sweepstakes.carrd.co/assets/images/gallery01/f6ee4ae8.jpg?v=0c91e9dc",
        gameUrl: "https://getthekraken.com/"
      }
    ];

    // === Render Games ===
    function initializeGames() {
      const gamesContainer = document.getElementById('games');
      
      games.forEach(game => {
        const card = document.createElement('div');
        card.className = 'game-card';
        card.innerHTML = `
          <a href="${game.gameUrl}" target="_blank" rel="noopener noreferrer">
            <img src="${game.imageUrl}" alt="${game.name}" loading="lazy">
          </a>
        `;
        gamesContainer.appendChild(card);
      });
      
      console.log(`üéÆ Loaded ${games.length} games`);
    }

    // === Initialize App ===
    function initializeApp() {
      console.log('üöÄ Initializing ShawnSweeps...');
      
      // Initialize games
      initializeGames();
      
      // Check if running on Vercel
      const isVercel = window.location.hostname.includes('vercel.app') || 
                       window.location.hostname.includes('.vercel.app');
      
      if (isVercel) {
        console.log('üåê Running on Vercel');
      }
      
      // Log current environment
      console.log(`üèóÔ∏è Environment: ${IS_SANDBOX ? 'Sandbox' : 'Production'}`);
      console.log(`üè¶ Partner ID: ${PARTNER_ID}`);
      console.log(`ü™ô Bitcoin Address: ${DEFAULT_WALLET_ADDRESS}`);
      
      console.log('‚úÖ ShawnSweeps initialized successfully');
    }

    // === Wait for DOM and initialize ===
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', initializeApp);
    } else {
      initializeApp();
    }

    // === Error Handling ===
    window.addEventListener('error', (event) => {
      console.error('üí• Global error:', event.error);
    });

    window.addEventListener('unhandledrejection', (event) => {
      console.error('üí• Unhandled promise rejection:', event.reason);
    });

  </script>
</body>
</html>
